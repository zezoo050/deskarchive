from PyQt5 import QtCore, QtGui, QtWidgets
import sqlite3
import checker
from checker import sqlsearchquery , numcheck , string , ownerid , createarch , digitonly , deletearch , ma_changepasssql , m_mangeuserchange
from checker import sqlarchsearch , m_addnewuser , m_userstable , m_log , m_changedatalog , blockusersql , allowusersql , e_sqlsearchquery ,d_sqlsearchquery
from PyQt5.QtGui import *
from PyQt5.QtWidgets import QApplication, QWidget, QInputDialog, QLineEdit, QFileDialog
from PyQt5 import QtGui
from PyQt5.QtWidgets import QApplication,  QWidget, QTableWidget, QTableWidgetItem, QVBoxLayout , QHeaderView , QMessageBox
import sys
class Ui_MainWindow2():
    def __init__(self,userid,userprem):
        MainWindow = QtWidgets.QMainWindow()
        self.setupUi2(MainWindow,userid,userprem)
        MainWindow.show()
    def show(self):
            self.MainWindow.show()
    def setupUi2(self, MainWindow,userid,userprem):
        self.s_mode = None
        self.e_mode = None
        self.d_mode = None
        self.s_ind = None
        self.e_ind = None
        self.d_ind = None
        self.userid = userid
        self.userprem = userprem
        self.s_pics = None
        self.a_flaw_update = []
        self.a_pics_update = []
        self.d_pics = []
        self.m_usermangepassvalue = None
        self.MainWindow = MainWindow
        MainWindow.setObjectName("MainWindow")
        from win32api import GetSystemMetrics
        MainWindow.setMinimumSize(QtCore.QSize(GetSystemMetrics(0),GetSystemMetrics(1)-80))
        MainWindow.showMaximized()
        MainWindow.setWindowIcon(QIcon("logo.ico"))
        #MainWindow.setFixedSize(1920,1001)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.tabWidget = QtWidgets.QTabWidget(self.centralwidget)
        self.tabWidget.setEnabled(True)
        self.tabWidget.setGeometry(QtCore.QRect(0, 10, GetSystemMetrics(0),GetSystemMetrics(1)-80))
        font = QtGui.QFont()
        font.setPointSize(14)
        self.tabWidget.setFont(font)
        self.tabWidget.setCursor(QtGui.QCursor(QtCore.Qt.ArrowCursor))
        self.tabWidget.setLayoutDirection(QtCore.Qt.RightToLeft)
        self.tabWidget.setTabPosition(QtWidgets.QTabWidget.North)
        self.tabWidget.setTabShape(QtWidgets.QTabWidget.Rounded)
        self.tabWidget.setIconSize(QtCore.QSize(10, 10))
        self.tabWidget.setElideMode(QtCore.Qt.ElideRight)
        self.tabWidget.setObjectName("tabWidget")
        self.search = QtWidgets.QWidget()
        self.search.setObjectName("search")
        self.groupBox_3 = QtWidgets.QGroupBox(self.search)
        self.groupBox_3.setGeometry(QtCore.QRect(30, 20, 1031, 651))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.groupBox_3.setFont(font)
        self.groupBox_3.setObjectName("groupBox_3")
        self.s_savepic_b = QtWidgets.QPushButton(self.groupBox_3)
        self.s_savepic_b.setGeometry(QtCore.QRect(850, 590, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_savepic_b.setFont(font)
        self.s_savepic_b.setObjectName("s_savepic_b")
        self.s_piclist = QtWidgets.QListWidget(self.groupBox_3)
        self.s_piclist.setGeometry(QtCore.QRect(530, 110, 491, 451))
        self.s_piclist.setObjectName("s_piclist")
        self.s_piclist.setFont(font)
        self.s_piclist_label = QtWidgets.QLabel(self.groupBox_3)
        self.s_piclist_label.setGeometry(QtCore.QRect(860, 50, 151, 41))
        self.s_piclist_label.setObjectName("s_piclist_label")
        self.s_picpreview = QtWidgets.QLabel(self.groupBox_3)
        self.s_picpreview.setGeometry(QtCore.QRect(40, 10, 421, 531))
        self.s_picpreview.setText("")
        self.s_picpreview.setObjectName("s_picpreview")
        self.s_pic_slider = QtWidgets.QSlider(self.groupBox_3)
        self.s_pic_slider.setGeometry(QtCore.QRect(120, 590, 281, 31))
        self.s_pic_slider.setOrientation(QtCore.Qt.Horizontal)
        self.s_pic_slider.setObjectName("s_pic_slider")
        self.s_mainlabel = QtWidgets.QLabel(self.search)
        self.s_mainlabel.setGeometry(QtCore.QRect(1540, -10, 371, 91))
        font = QtGui.QFont()
        font.setPointSize(22)
        self.s_mainlabel.setFont(font)
        self.s_mainlabel.setObjectName("s_mainlabel")
        self.s_archnum_field = QtWidgets.QLineEdit(self.search)
        self.s_archnum_field.setEnabled(True)
        self.s_archnum_field.setGeometry(QtCore.QRect(1230, 380, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_archnum_field.setFont(font)
        self.s_archnum_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.s_archnum_field.setText("")
        self.s_archnum_field.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.s_archnum_field.setReadOnly(True)
        self.s_archnum_field.setObjectName("s_archnum_field")
        self.s_archnum_label = QtWidgets.QLabel(self.search)
        self.s_archnum_label.setGeometry(QtCore.QRect(1650, 370, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_archnum_label.setFont(font)
        self.s_archnum_label.setObjectName("s_archnum_label")
        self.s_ownerid_field = QtWidgets.QLineEdit(self.search)
        self.s_ownerid_field.setEnabled(True)
        self.s_ownerid_field.setGeometry(QtCore.QRect(1230, 670, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_ownerid_field.setFont(font)
        self.s_ownerid_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.s_ownerid_field.setText("")
        self.s_ownerid_field.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.s_ownerid_field.setReadOnly(True)
        self.s_ownerid_field.setObjectName("s_ownerid_field")
        self.s_ownerid_label = QtWidgets.QLabel(self.search)
        self.s_ownerid_label.setGeometry(QtCore.QRect(1600, 660, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_ownerid_label.setFont(font)
        self.s_ownerid_label.setObjectName("s_ownerid_label")
        self.s_ownerid_fail = QtWidgets.QLabel(self.search)
        self.s_ownerid_fail.setGeometry(QtCore.QRect(1310, 250, 271, 41))
        self.s_ownerid_fail.setObjectName("s_ownerid_fail")
        self.s_archnum_fail = QtWidgets.QLabel(self.search)
        self.s_archnum_fail.setGeometry(QtCore.QRect(1310, 250, 271, 41))
        self.s_archnum_fail.setObjectName("s_archnum_fail")
        self.s_piecenum_label = QtWidgets.QLabel(self.search)
        self.s_piecenum_label.setGeometry(QtCore.QRect(1640, 450, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_piecenum_label.setFont(font)
        self.s_piecenum_label.setObjectName("s_piecenum_label")
        self.s_piecenum_fail = QtWidgets.QLabel(self.search)
        self.s_piecenum_fail.setGeometry(QtCore.QRect(1310, 250, 271, 41))
        self.s_piecenum_fail.setObjectName("s_piecenum_fail")
        self.s_piecenum_field = QtWidgets.QLineEdit(self.search)
        self.s_piecenum_field.setEnabled(True)
        self.s_piecenum_field.setGeometry(QtCore.QRect(1230, 470, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_piecenum_field.setFont(font)
        self.s_piecenum_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.s_piecenum_field.setText("")
        self.s_piecenum_field.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.s_piecenum_field.setReadOnly(True)
        self.s_piecenum_field.setObjectName("s_piecenum_field")
        self.s_ownername_field = QtWidgets.QLineEdit(self.search)
        self.s_ownername_field.setEnabled(True)
        self.s_ownername_field.setGeometry(QtCore.QRect(1230, 570, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_ownername_field.setFont(font)
        self.s_ownername_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.s_ownername_field.setText("")
        self.s_ownername_field.setReadOnly(True)
        self.s_ownername_field.setObjectName("s_ownername_field")
        self.s_ownername_label = QtWidgets.QLabel(self.search)
        self.s_ownername_label.setGeometry(QtCore.QRect(1640, 560, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_ownername_label.setFont(font)
        self.s_ownername_label.setObjectName("s_ownername_label")
        self.s_ownername_fail = QtWidgets.QLabel(self.search)
        self.s_ownername_fail.setGeometry(QtCore.QRect(1310, 250, 271, 41))
        self.s_ownername_fail.setObjectName("s_ownername_fail")
        self.s_flawslist_label = QtWidgets.QLabel(self.search)
        self.s_flawslist_label.setGeometry(QtCore.QRect(820, 690, 211, 31))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_flawslist_label.setFont(font)
        self.s_flawslist_label.setObjectName("s_flawslist_label")
        self.s_flaws_list = QtWidgets.QListWidget(self.search)
        self.s_flaws_list.setGeometry(QtCore.QRect(440, 730, 591, 192))
        self.s_flaws_list.setObjectName("s_flaws_list")
        self.s_flaws_list.setFont(font)
        self.s_searchfilter_combobox = QtWidgets.QComboBox(self.search)
        self.s_searchfilter_combobox.setGeometry(QtCore.QRect(1320, 100, 251, 41))
        self.s_searchfilter_combobox.setObjectName("s_searchfilter_combobox")
        self.s_searchfilter_combobox.addItem("")
        self.s_searchfilter_combobox.addItem("")
        self.s_searchfilter_combobox.addItem("")
        self.s_searchfilter_combobox.addItem("")
        self.s_searchfilter_combobox.addItem("")
        self.s_choosearch_combobox = QtWidgets.QComboBox(self.search)
        self.s_choosearch_combobox.setGeometry(QtCore.QRect(1320, 320, 251, 41))
        self.s_choosearch_combobox.setObjectName("s_choosearch_combobox")
        self.s_searchfield = QtWidgets.QLineEdit(self.search)
        self.s_searchfield.setGeometry(QtCore.QRect(1230, 190, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_searchfield.setFont(font)
        self.s_searchfield.setLayoutDirection(QtCore.Qt.RightToLeft)
        self.s_searchfield.setText("")
        self.s_searchfield.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.s_searchfield.setObjectName("s_searchfield")
        self.s_searchfilter_label = QtWidgets.QLabel(self.search)
        self.s_searchfilter_label.setGeometry(QtCore.QRect(1650, 80, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_searchfilter_label.setFont(font)
        self.s_searchfilter_label.setObjectName("s_searchfilter_label")
        self.s_archnumsearch_label = QtWidgets.QLabel(self.search)
        self.s_archnumsearch_label.setGeometry(QtCore.QRect(1650, 180, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_archnumsearch_label.setFont(font)
        self.s_archnumsearch_label.setObjectName("s_archnumsearch_label")
        self.s_choosearch_label = QtWidgets.QLabel(self.search)
        self.s_choosearch_label.setGeometry(QtCore.QRect(1640, 290, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_choosearch_label.setFont(font)
        self.s_choosearch_label.setObjectName("s_choosearch_label")
        self.s_piecenumsearch_label = QtWidgets.QLabel(self.search)
        self.s_piecenumsearch_label.setGeometry(QtCore.QRect(1650, 180, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_piecenumsearch_label.setFont(font)
        self.s_piecenumsearch_label.setObjectName("s_piecenumsearch_label")
        self.s_owneridsearch_label = QtWidgets.QLabel(self.search)
        self.s_owneridsearch_label.setGeometry(QtCore.QRect(1610, 180, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_owneridsearch_label.setFont(font)
        self.s_owneridsearch_label.setObjectName("s_owneridsearch_label")
        self.s_ownernamesearch_label = QtWidgets.QLabel(self.search)
        self.s_ownernamesearch_label.setGeometry(QtCore.QRect(1650, 180, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_ownernamesearch_label.setFont(font)
        self.s_ownernamesearch_label.setObjectName("s_ownernamesearch_label")
        self.s_search_b = QtWidgets.QPushButton(self.search)
        self.s_search_b.setGeometry(QtCore.QRect(1070, 210, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_search_b.setFont(font)
        self.s_search_b.setObjectName("s_search_b")
        self.s_location_field = QtWidgets.QLineEdit(self.search)
        self.s_location_field.setEnabled(True)
        self.s_location_field.setGeometry(QtCore.QRect(1230, 780, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.s_location_field.setFont(font)
        self.s_location_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.s_location_field.setText("")
        self.s_location_field.setReadOnly(True)
        self.s_location_field.setObjectName("s_location_field")
        self.s_location_label = QtWidgets.QLabel(self.search)
        self.s_location_label.setGeometry(QtCore.QRect(1590, 760, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_location_label.setFont(font)
        self.s_location_label.setObjectName("s_location_label")
        self.s_openlink_b = QtWidgets.QPushButton(self.search)
        self.s_openlink_b.setGeometry(QtCore.QRect(1430, 870, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.s_openlink_b.setFont(font)
        self.s_openlink_b.setObjectName("s_openlink_b")
        self.tabWidget.addTab(self.search, "")
        self.add = QtWidgets.QWidget()
        self.add.setObjectName("add")
        self.a_mainbagetext_label = QtWidgets.QLabel(self.add)
        self.a_mainbagetext_label.setGeometry(QtCore.QRect(1530, -10, 371, 91))
        font = QtGui.QFont()
        font.setPointSize(22)
        self.a_mainbagetext_label.setFont(font)
        self.a_mainbagetext_label.setObjectName("a_mainbagetext_label")
        self.a_archnum_field = QtWidgets.QLineEdit(self.add)
        self.a_archnum_field.setGeometry(QtCore.QRect(1240, 70, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.a_archnum_field.setFont(font)
        self.a_archnum_field.setText("")
        self.a_archnum_field.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.a_archnum_field.setObjectName("a_archnum_field")
        self.a_piecenum_field = QtWidgets.QLineEdit(self.add)
        self.a_piecenum_field.setGeometry(QtCore.QRect(1240, 180, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.a_piecenum_field.setFont(font)
        self.a_piecenum_field.setText("")
        self.a_piecenum_field.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.a_piecenum_field.setObjectName("a_piecenum_field")
        self.a_pieceowner_field = QtWidgets.QLineEdit(self.add)
        self.a_pieceowner_field.setGeometry(QtCore.QRect(1240, 300, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.a_pieceowner_field.setFont(font)
        self.a_pieceowner_field.setText("")
        self.a_pieceowner_field.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.a_pieceowner_field.setObjectName("a_pieceowner_field")
        self.a_ownerid_field = QtWidgets.QLineEdit(self.add)
        self.a_ownerid_field.setGeometry(QtCore.QRect(1250, 420, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.a_ownerid_field.setFont(font)
        self.a_ownerid_field.setText("")
        self.a_ownerid_field.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.a_ownerid_field.setObjectName("a_ownerid_field")
        self.a_atchnum_label = QtWidgets.QLabel(self.add)
        self.a_atchnum_label.setGeometry(QtCore.QRect(1660, 60, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_atchnum_label.setFont(font)
        self.a_atchnum_label.setObjectName("a_atchnum_label")
        self.a_piecenum_label = QtWidgets.QLabel(self.add)
        self.a_piecenum_label.setGeometry(QtCore.QRect(1650, 170, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_piecenum_label.setFont(font)
        self.a_piecenum_label.setObjectName("a_piecenum_label")
        self.a_ownername_label = QtWidgets.QLabel(self.add)
        self.a_ownername_label.setGeometry(QtCore.QRect(1650, 290, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_ownername_label.setFont(font)
        self.a_ownername_label.setObjectName("a_ownername_label")
        self.a_ownerid_label = QtWidgets.QLabel(self.add)
        self.a_ownerid_label.setGeometry(QtCore.QRect(1620, 410, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_ownerid_label.setFont(font)
        self.a_ownerid_label.setObjectName("a_ownerid_label")
        self.groupBox = QtWidgets.QGroupBox(self.add)
        self.groupBox.setGeometry(QtCore.QRect(1190, 530, 721, 411))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.groupBox.setFont(font)
        self.groupBox.setObjectName("groupBox")
        self.a_flaws_field = QtWidgets.QTextEdit(self.groupBox)
        self.a_flaws_field.setGeometry(QtCore.QRect(100, 40, 581, 81))
        self.a_flaws_field.setObjectName("a_flaws_field")
        self.a_addflaw_b = QtWidgets.QPushButton(self.groupBox)
        self.a_addflaw_b.setGeometry(QtCore.QRect(100, 150, 161, 31))
        font = QtGui.QFont()
        font.setPointSize(14)
        font2 = QtGui.QFont()
        font2.setPointSize(18)
        self.a_addflaw_b.setFont(font)
        self.a_addflaw_b.setObjectName("a_addflaw_b")
        self.a_flaws_list = QtWidgets.QListWidget(self.groupBox)
        self.a_flaws_list.setGeometry(QtCore.QRect(95, 200, 591, 192))
        self.a_flaws_list.setObjectName("a_flaws_list")
        self.a_flaws_list.setFont(font2)
        self.a_fawslist_label = QtWidgets.QLabel(self.groupBox)
        self.a_fawslist_label.setGeometry(QtCore.QRect(470, 160, 211, 31))
        self.a_fawslist_label.setObjectName("a_fawslist_label")
        self.groupBox_2 = QtWidgets.QGroupBox(self.add)
        self.groupBox_2.setGeometry(QtCore.QRect(100, 10, 1031, 681))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.groupBox_2.setFont(font)
        self.groupBox_2.setObjectName("groupBox_2")
        self.a_addpic_field = QtWidgets.QLineEdit(self.groupBox_2)
        self.a_addpic_field.setGeometry(QtCore.QRect(620, 70, 371, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_addpic_field.setFont(font)
        self.a_addpic_field.setReadOnly(True)
        self.a_addpic_field.setObjectName("a_addpic_field")
        self.a_browsepic_b = QtWidgets.QPushButton(self.groupBox_2)
        self.a_browsepic_b.setGeometry(QtCore.QRect(500, 70, 111, 31))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_browsepic_b.setFont(font)
        self.a_browsepic_b.setObjectName("a_browsepic_b")
        self.a_pic_list = QtWidgets.QListWidget(self.groupBox_2)
        self.a_pic_list.setGeometry(QtCore.QRect(500, 220, 491, 451))
        self.a_pic_list.setObjectName("a_pic_list")
        self.a_pic_list.setFont(font2)
        self.a_piclist_label = QtWidgets.QLabel(self.groupBox_2)
        self.a_piclist_label.setGeometry(QtCore.QRect(830, 170, 151, 41))
        self.a_piclist_label.setObjectName("a_piclist_label")
        self.a_addpic_b = QtWidgets.QPushButton(self.groupBox_2)
        self.a_addpic_b.setGeometry(QtCore.QRect(500, 120, 111, 31))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.a_addpic_b.setFont(font)
        self.a_addpic_b.setObjectName("a_addpic_b")
        self.a_picpreview = QtWidgets.QLabel(self.groupBox_2)
        self.a_picpreview.setGeometry(QtCore.QRect(40, 40, 411, 511))
        self.a_picpreview.setText("")
        self.a_picpreview.setObjectName("a_picpreview")
        self.a_picslider = QtWidgets.QSlider(self.groupBox_2)
        self.a_picslider.setGeometry(QtCore.QRect(130, 620, 251, 31))
        self.a_picslider.setOrientation(QtCore.Qt.Horizontal)
        self.a_picslider.setObjectName("a_picslider")
        self.a_archnum_fail = QtWidgets.QLabel(self.add)
        self.a_archnum_fail.setGeometry(QtCore.QRect(1320, 130, 271, 41))
        self.a_archnum_fail.setObjectName("a_archnum_fail")
        self.a_piecenum_fail = QtWidgets.QLabel(self.add)
        self.a_piecenum_fail.setGeometry(QtCore.QRect(1310, 250, 271, 41))
        self.a_piecenum_fail.setObjectName("a_piecenum_fail")
        self.a_ownername_fail = QtWidgets.QLabel(self.add)
        self.a_ownername_fail.setGeometry(QtCore.QRect(1320, 370, 271, 41))
        self.a_ownername_fail.setObjectName("a_ownername_fail")
        self.a_ownerid_fail = QtWidgets.QLabel(self.add)
        self.a_ownerid_fail.setGeometry(QtCore.QRect(1320, 490, 271, 41))
        self.a_ownerid_fail.setObjectName("a_ownerid_fail")
        self.a_save_b = QtWidgets.QPushButton(self.add)
        self.a_save_b.setGeometry(QtCore.QRect(970, 840, 191, 51))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.a_save_b.setFont(font)
        self.a_save_b.setObjectName("a_save_b")
        self.a_clear_b = QtWidgets.QPushButton(self.add)
        self.a_clear_b.setGeometry(QtCore.QRect(110, 840, 191, 51))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.a_clear_b.setFont(font)
        self.a_clear_b.setObjectName("a_clear_b")
        self.a_succ_label = QtWidgets.QLabel(self.add)
        self.a_succ_label.setGeometry(QtCore.QRect(710, 850, 231, 41))
        self.a_succ_label.setObjectName("a_succ_label")
        self.a_failsave_label = QtWidgets.QLabel(self.add)
        self.a_failsave_label.setGeometry(QtCore.QRect(550, 850, 391, 41))
        self.a_failsave_label.setObjectName("a_failsave_label")
        self.a_location_label = QtWidgets.QLabel(self.add)
        self.a_location_label.setGeometry(QtCore.QRect(1010, 720, 111, 51))
        font = QtGui.QFont()
        font.setPointSize(20)
        self.a_location_label.setFont(font)
        self.a_location_label.setObjectName("a_location_label")
        self.a_location_field = QtWidgets.QLineEdit(self.add)
        self.a_location_field.setGeometry(QtCore.QRect(680, 730, 311, 51))
        self.a_location_field.setObjectName("a_location_field")
        self.tabWidget.addTab(self.add, "")
        self.edit = QtWidgets.QWidget()
        self.edit.setObjectName("edit")
        self.e_ownernamesearch_label = QtWidgets.QLabel(self.edit)
        self.e_ownernamesearch_label.setGeometry(QtCore.QRect(1650, 150, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_ownernamesearch_label.setFont(font)
        self.e_ownernamesearch_label.setObjectName("e_ownernamesearch_label")
        self.e_search_field = QtWidgets.QLineEdit(self.edit)
        self.e_search_field.setGeometry(QtCore.QRect(1230, 160, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_search_field.setFont(font)
        self.e_search_field.setText("")
        self.e_search_field.setObjectName("e_search_field")
        self.e_piecenum_label = QtWidgets.QLabel(self.edit)
        self.e_piecenum_label.setGeometry(QtCore.QRect(1630, 450, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_piecenum_label.setFont(font)
        self.e_piecenum_label.setObjectName("e_piecenum_label")
        self.e_ownername_fail = QtWidgets.QLabel(self.edit)
        self.e_ownername_fail.setGeometry(QtCore.QRect(1310, 220, 271, 41))
        self.e_ownername_fail.setObjectName("e_ownername_fail")
        self.e_archnumsearch_label = QtWidgets.QLabel(self.edit)
        self.e_archnumsearch_label.setGeometry(QtCore.QRect(1650, 150, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_archnumsearch_label.setFont(font)
        self.e_archnumsearch_label.setObjectName("e_archnumsearch_label")
        self.e_search_b = QtWidgets.QPushButton(self.edit)
        self.e_search_b.setGeometry(QtCore.QRect(1070, 180, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_search_b.setFont(font)
        self.e_search_b.setObjectName("e_search_b")
        self.e_archnumfail_label = QtWidgets.QLabel(self.edit)
        self.e_archnumfail_label.setGeometry(QtCore.QRect(1310, 220, 271, 41))
        self.e_archnumfail_label.setObjectName("e_archnumfail_label")
        self.e_piecenum_field = QtWidgets.QLineEdit(self.edit)
        self.e_piecenum_field.setEnabled(True)
        self.e_piecenum_field.setGeometry(QtCore.QRect(1220, 470, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_piecenum_field.setFont(font)
        self.e_piecenum_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.e_piecenum_field.setText("")
        self.e_piecenum_field.setReadOnly(True)
        self.e_piecenum_field.setObjectName("e_piecenum_field")
        self.e_location_field = QtWidgets.QLineEdit(self.edit)
        self.e_location_field.setEnabled(True)
        self.e_location_field.setGeometry(QtCore.QRect(1220, 790, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_location_field.setFont(font)
        self.e_location_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.e_location_field.setText("")
        self.e_location_field.setReadOnly(False)
        self.e_location_field.setObjectName("e_location_field")
        self.e_searchfilter_combobox = QtWidgets.QComboBox(self.edit)
        self.e_searchfilter_combobox.setGeometry(QtCore.QRect(1380, 80, 251, 41))
        self.e_searchfilter_combobox.setObjectName("e_searchfilter_combobox")
        self.e_searchfilter_combobox.addItem("")
        self.e_searchfilter_combobox.addItem("")
        self.e_searchfilter_combobox.addItem("")
        self.e_searchfilter_combobox.addItem("")
        self.e_searchfilter_combobox.addItem("")
        self.e_ownerid_label = QtWidgets.QLabel(self.edit)
        self.e_ownerid_label.setGeometry(QtCore.QRect(1590, 670, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_ownerid_label.setFont(font)
        self.e_ownerid_label.setObjectName("e_ownerid_label")
        self.e_location_label = QtWidgets.QLabel(self.edit)
        self.e_location_label.setGeometry(QtCore.QRect(1590, 770, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_location_label.setFont(font)
        self.e_location_label.setObjectName("e_location_label")
        self.e_choosearchname_label = QtWidgets.QLabel(self.edit)
        self.e_choosearchname_label.setGeometry(QtCore.QRect(1630, 260, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_choosearchname_label.setFont(font)
        self.e_choosearchname_label.setObjectName("e_choosearchname_label")
        self.e_mainlabel = QtWidgets.QLabel(self.edit)
        self.e_mainlabel.setGeometry(QtCore.QRect(1530, -20, 371, 91))
        font = QtGui.QFont()
        font.setPointSize(22)
        self.e_mainlabel.setFont(font)
        self.e_mainlabel.setObjectName("e_mainlabel")
        self.e_ownerid_fail = QtWidgets.QLabel(self.edit)
        self.e_ownerid_fail.setGeometry(QtCore.QRect(1310, 220, 271, 41))
        self.e_ownerid_fail.setObjectName("e_ownerid_fail")
        self.e_archnum_label = QtWidgets.QLabel(self.edit)
        self.e_archnum_label.setGeometry(QtCore.QRect(1640, 350, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_archnum_label.setFont(font)
        self.e_archnum_label.setObjectName("e_archnum_label")
        self.e_piecenum_fail = QtWidgets.QLabel(self.edit)
        self.e_piecenum_fail.setGeometry(QtCore.QRect(1310, 220, 271, 41))
        self.e_piecenum_fail.setObjectName("e_piecenum_fail")
        self.e_ownerid_field = QtWidgets.QLineEdit(self.edit)
        self.e_ownerid_field.setEnabled(True)
        self.e_ownerid_field.setGeometry(QtCore.QRect(1220, 680, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_ownerid_field.setFont(font)
        self.e_ownerid_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.e_ownerid_field.setText("")
        self.e_ownerid_field.setReadOnly(False)
        self.e_ownerid_field.setObjectName("e_ownerid_field")
        self.e_owneridsearch_label = QtWidgets.QLabel(self.edit)
        self.e_owneridsearch_label.setGeometry(QtCore.QRect(1610, 150, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_owneridsearch_label.setFont(font)
        self.e_owneridsearch_label.setObjectName("e_owneridsearch_label")
        self.groupBox_4 = QtWidgets.QGroupBox(self.edit)
        self.groupBox_4.setGeometry(QtCore.QRect(10, 0, 1031, 651))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.groupBox_4.setFont(font)
        self.groupBox_4.setObjectName("groupBox_4")
        self.e_addpic_b = QtWidgets.QPushButton(self.groupBox_4)
        self.e_addpic_b.setGeometry(QtCore.QRect(850, 590, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_addpic_b.setFont(font)
        self.e_addpic_b.setObjectName("e_addpic_b")
        self.e_pic_list = QtWidgets.QListWidget(self.groupBox_4)
        self.e_pic_list.setGeometry(QtCore.QRect(530, 110, 491, 451))
        self.e_pic_list.setObjectName("e_pic_list")
        self.e_piclist_label = QtWidgets.QLabel(self.groupBox_4)
        self.e_piclist_label.setGeometry(QtCore.QRect(860, 50, 151, 41))
        self.e_piclist_label.setObjectName("e_piclist_label")
        self.e_picpreview = QtWidgets.QLabel(self.groupBox_4)
        self.e_picpreview.setGeometry(QtCore.QRect(40, 10, 421, 531))
        self.e_picpreview.setText("")
        self.e_picpreview.setObjectName("e_picpreview")
        self.e_picslider = QtWidgets.QSlider(self.groupBox_4)
        self.e_picslider.setGeometry(QtCore.QRect(120, 590, 281, 31))
        self.e_picslider.setOrientation(QtCore.Qt.Horizontal)
        self.e_picslider.setObjectName("e_picslider")
        self.e_deletepic_b = QtWidgets.QPushButton(self.groupBox_4)
        self.e_deletepic_b.setGeometry(QtCore.QRect(680, 590, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_deletepic_b.setFont(font)
        self.e_deletepic_b.setObjectName("e_deletepic_b")
        self.e_archnum_field = QtWidgets.QLineEdit(self.edit)
        self.e_archnum_field.setEnabled(True)
        self.e_archnum_field.setGeometry(QtCore.QRect(1220, 360, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_archnum_field.setFont(font)
        self.e_archnum_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.e_archnum_field.setText("")
        self.e_archnum_field.setReadOnly(True)
        self.e_archnum_field.setObjectName("e_archnum_field")
        self.e_ownername_label = QtWidgets.QLabel(self.edit)
        self.e_ownername_label.setGeometry(QtCore.QRect(1630, 560, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_ownername_label.setFont(font)
        self.e_ownername_label.setObjectName("e_ownername_label")
        self.e_ownername_field = QtWidgets.QLineEdit(self.edit)
        self.e_ownername_field.setEnabled(True)
        self.e_ownername_field.setGeometry(QtCore.QRect(1220, 570, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_ownername_field.setFont(font)
        self.e_ownername_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.e_ownername_field.setText("")
        self.e_ownername_field.setReadOnly(False)
        self.e_ownername_field.setObjectName("e_ownername_field")
        self.e_searchfilter_label = QtWidgets.QLabel(self.edit)
        self.e_searchfilter_label.setGeometry(QtCore.QRect(1640, 60, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_searchfilter_label.setFont(font)
        self.e_searchfilter_label.setObjectName("e_searchfilter_label")
        self.e_choosearchname_combobox = QtWidgets.QComboBox(self.edit)
        self.e_choosearchname_combobox.setGeometry(QtCore.QRect(1310, 290, 251, 41))
        self.e_choosearchname_combobox.setObjectName("e_choosearchname_combobox")
        self.e_piecenumsearch_label = QtWidgets.QLabel(self.edit)
        self.e_piecenumsearch_label.setGeometry(QtCore.QRect(1650, 150, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.e_piecenumsearch_label.setFont(font)
        self.e_piecenumsearch_label.setObjectName("e_piecenumsearch_label")
        self.groupBox_5 = QtWidgets.QGroupBox(self.edit)
        self.groupBox_5.setGeometry(QtCore.QRect(20, 660, 1051, 331))
        self.groupBox_5.setTitle("")
        self.groupBox_5.setObjectName("groupBox_5")
        self.e_flawslist = QtWidgets.QListWidget(self.groupBox_5)
        self.e_flawslist.setGeometry(QtCore.QRect(450, 40, 591, 192))
        self.e_flawslist.setObjectName("e_flawslist")
        self.e_flawslist_label = QtWidgets.QLabel(self.groupBox_5)
        self.e_flawslist_label.setGeometry(QtCore.QRect(830, 0, 211, 31))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_flawslist_label.setFont(font)
        self.e_flawslist_label.setObjectName("e_flawslist_label")
        self.e_addflaw_label = QtWidgets.QLabel(self.groupBox_5)
        self.e_addflaw_label.setGeometry(QtCore.QRect(300, 10, 131, 31))
        self.e_addflaw_label.setObjectName("e_addflaw_label")
        self.e_addflaw_field = QtWidgets.QTextEdit(self.groupBox_5)
        self.e_addflaw_field.setGeometry(QtCore.QRect(13, 40, 421, 87))
        self.e_addflaw_field.setObjectName("e_addflaw_field")
        self.e_addflaw_b = QtWidgets.QPushButton(self.groupBox_5)
        self.e_addflaw_b.setGeometry(QtCore.QRect(10, 130, 171, 41))
        self.e_addflaw_b.setObjectName("e_addflaw_b")
        self.e_deleteflaw_b = QtWidgets.QPushButton(self.groupBox_5)
        self.e_deleteflaw_b.setGeometry(QtCore.QRect(450, 240, 171, 41))
        self.e_deleteflaw_b.setObjectName("e_deleteflaw_b")
        self.e_editarch_b = QtWidgets.QPushButton(self.edit)
        self.e_editarch_b.setGeometry(QtCore.QRect(1220, 870, 251, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.e_editarch_b.setFont(font)
        self.e_editarch_b.setObjectName("e_editarch_b")
        self.e_ownerid_fail2 = QtWidgets.QLabel(self.edit)
        self.e_ownerid_fail2.setGeometry(QtCore.QRect(1300, 740, 271, 41))
        self.e_ownerid_fail2.setObjectName("e_ownerid_fail2")
        self.e_ownername_fail2 = QtWidgets.QLabel(self.edit)
        self.e_ownername_fail2.setGeometry(QtCore.QRect(1300, 630, 271, 41))
        self.e_ownername_fail2.setObjectName("e_ownername_fail2")
        self.tabWidget.addTab(self.edit, "")
        self.delete = QtWidgets.QWidget()
        self.delete.setObjectName("delete")
        self.d_archhiddenid = QtWidgets.QLineEdit(self.delete)
        self.d_archhiddenid.hide()
        self.d_ownernamesearch_label = QtWidgets.QLabel(self.delete)
        self.d_ownernamesearch_label.setGeometry(QtCore.QRect(1640, 180, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_ownernamesearch_label.setFont(font)
        self.d_ownernamesearch_label.setObjectName("d_ownernamesearch_label")
        self.d_searchfield = QtWidgets.QLineEdit(self.delete)
        self.d_searchfield.setGeometry(QtCore.QRect(1220, 190, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_searchfield.setFont(font)
        self.d_searchfield.setLayoutDirection(QtCore.Qt.RightToLeft)
        self.d_searchfield.setText("")
        self.d_searchfield.setObjectName("d_searchfield")
        self.d_piecenum_label = QtWidgets.QLabel(self.delete)
        self.d_piecenum_label.setGeometry(QtCore.QRect(1630, 450, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_piecenum_label.setFont(font)
        self.d_piecenum_label.setObjectName("d_piecenum_label")
        self.d_ownername_fail = QtWidgets.QLabel(self.delete)
        self.d_ownername_fail.setGeometry(QtCore.QRect(1300, 250, 271, 41))
        self.d_ownername_fail.setObjectName("d_ownername_fail")
        self.d_flaws_list = QtWidgets.QListWidget(self.delete)
        self.d_flaws_list.setGeometry(QtCore.QRect(430, 730, 591, 192))
        self.d_flaws_list.setObjectName("d_flaws_list")
        self.d_archnumsearch_label = QtWidgets.QLabel(self.delete)
        self.d_archnumsearch_label.setGeometry(QtCore.QRect(1640, 180, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_archnumsearch_label.setFont(font)
        self.d_archnumsearch_label.setObjectName("d_archnumsearch_label")
        self.d_search_b = QtWidgets.QPushButton(self.delete)
        self.d_search_b.setGeometry(QtCore.QRect(1060, 210, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_search_b.setFont(font)
        self.d_search_b.setObjectName("d_search_b")
        self.d_archnum_fail = QtWidgets.QLabel(self.delete)
        self.d_archnum_fail.setGeometry(QtCore.QRect(1300, 250, 271, 41))
        self.d_archnum_fail.setObjectName("d_archnum_fail")
        self.d_piecenum_field = QtWidgets.QLineEdit(self.delete)
        self.d_piecenum_field.setEnabled(True)
        self.d_piecenum_field.setGeometry(QtCore.QRect(1220, 470, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_piecenum_field.setFont(font)
        self.d_piecenum_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.d_piecenum_field.setText("")
        self.d_piecenum_field.setReadOnly(True)
        self.d_piecenum_field.setObjectName("d_piecenum_field")
        self.d_flaws_label = QtWidgets.QLabel(self.delete)
        self.d_flaws_label.setGeometry(QtCore.QRect(810, 690, 211, 31))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_flaws_label.setFont(font)
        self.d_flaws_label.setObjectName("d_flaws_label")
        self.d_location_field = QtWidgets.QLineEdit(self.delete)
        self.d_location_field.setEnabled(True)
        self.d_location_field.setGeometry(QtCore.QRect(1220, 780, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_location_field.setFont(font)
        self.d_location_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.d_location_field.setText("")
        self.d_location_field.setReadOnly(True)
        self.d_location_field.setObjectName("d_location_field")
        self.d_searchfilter_combobox = QtWidgets.QComboBox(self.delete)
        self.d_searchfilter_combobox.setGeometry(QtCore.QRect(1310, 100, 251, 41))
        self.d_searchfilter_combobox.setObjectName("d_searchfilter_combobox")
        self.d_searchfilter_combobox.addItem("")
        self.d_searchfilter_combobox.addItem("")
        self.d_searchfilter_combobox.addItem("")
        self.d_searchfilter_combobox.addItem("")
        self.d_searchfilter_combobox.addItem("")
        self.d_ownerid_label = QtWidgets.QLabel(self.delete)
        self.d_ownerid_label.setGeometry(QtCore.QRect(1590, 660, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_ownerid_label.setFont(font)
        self.d_ownerid_label.setObjectName("d_ownerid_label")
        self.d_location_label = QtWidgets.QLabel(self.delete)
        self.d_location_label.setGeometry(QtCore.QRect(1580, 760, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_location_label.setFont(font)
        self.d_location_label.setObjectName("d_location_label")
        self.d_choosearch_label = QtWidgets.QLabel(self.delete)
        self.d_choosearch_label.setGeometry(QtCore.QRect(1630, 290, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_choosearch_label.setFont(font)
        self.d_choosearch_label.setObjectName("d_choosearch_label")
        self.d_mainlabel = QtWidgets.QLabel(self.delete)
        self.d_mainlabel.setGeometry(QtCore.QRect(1530, -10, 371, 91))
        font = QtGui.QFont()
        font.setPointSize(22)
        self.d_mainlabel.setFont(font)
        self.d_mainlabel.setObjectName("d_mainlabel")
        self.d_ownerid_fail = QtWidgets.QLabel(self.delete)
        self.d_ownerid_fail.setGeometry(QtCore.QRect(1300, 250, 271, 41))
        self.d_ownerid_fail.setObjectName("d_ownerid_fail")
        self.d_archnum_label = QtWidgets.QLabel(self.delete)
        self.d_archnum_label.setGeometry(QtCore.QRect(1640, 370, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_archnum_label.setFont(font)
        self.d_archnum_label.setObjectName("d_archnum_label")
        self.d_piecenum_fail = QtWidgets.QLabel(self.delete)
        self.d_piecenum_fail.setGeometry(QtCore.QRect(1300, 250, 271, 41))
        self.d_piecenum_fail.setObjectName("d_piecenum_fail")
        self.d_ownerid_field = QtWidgets.QLineEdit(self.delete)
        self.d_ownerid_field.setEnabled(True)
        self.d_ownerid_field.setGeometry(QtCore.QRect(1220, 670, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_ownerid_field.setFont(font)
        self.d_ownerid_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.d_ownerid_field.setText("")
        self.d_ownerid_field.setReadOnly(True)
        self.d_ownerid_field.setObjectName("d_ownerid_field")
        self.d_owneridsearch_label = QtWidgets.QLabel(self.delete)
        self.d_owneridsearch_label.setGeometry(QtCore.QRect(1600, 180, 281, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_owneridsearch_label.setFont(font)
        self.d_owneridsearch_label.setObjectName("d_owneridsearch_label")
        self.d_deletearc_b = QtWidgets.QPushButton(self.delete)
        self.d_deletearc_b.setGeometry(QtCore.QRect(1420, 870, 151, 41))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_deletearc_b.setFont(font)
        self.d_deletearc_b.setObjectName("d_deletearc_b")
        self.groupBox_6 = QtWidgets.QGroupBox(self.delete)
        self.groupBox_6.setGeometry(QtCore.QRect(20, 20, 1031, 651))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.groupBox_6.setFont(font)
        self.groupBox_6.setObjectName("groupBox_6")
        self.d_pic_list = QtWidgets.QListWidget(self.groupBox_6)
        self.d_pic_list.setGeometry(QtCore.QRect(530, 110, 491, 451))
        self.d_pic_list.setObjectName("d_pic_list")
        self.d_piclist_label = QtWidgets.QLabel(self.groupBox_6)
        self.d_piclist_label.setGeometry(QtCore.QRect(860, 50, 151, 41))
        self.d_piclist_label.setObjectName("d_piclist_label")
        self.d_picpreview = QtWidgets.QLabel(self.groupBox_6)
        self.d_picpreview.setGeometry(QtCore.QRect(40, 40, 421, 531))
        self.d_picpreview.setText("")
        self.d_picpreview.setObjectName("d_picpreview")
        self.d_picslider = QtWidgets.QSlider(self.groupBox_6)
        self.d_picslider.setGeometry(QtCore.QRect(120, 590, 281, 31))
        self.d_picslider.setOrientation(QtCore.Qt.Horizontal)
        self.d_picslider.setObjectName("d_picslider")
        self.d_archnum_field = QtWidgets.QLineEdit(self.delete)
        self.d_archnum_field.setEnabled(True)
        self.d_archnum_field.setGeometry(QtCore.QRect(1220, 380, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_archnum_field.setFont(font)
        self.d_archnum_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.d_archnum_field.setText("")
        self.d_archnum_field.setReadOnly(True)
        self.d_archnum_field.setObjectName("d_archnum_field")
        self.d_ownername_label = QtWidgets.QLabel(self.delete)
        self.d_ownername_label.setGeometry(QtCore.QRect(1630, 560, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_ownername_label.setFont(font)
        self.d_ownername_label.setObjectName("d_ownername_label")
        self.d_ownername_field = QtWidgets.QLineEdit(self.delete)
        self.d_ownername_field.setEnabled(True)
        self.d_ownername_field.setGeometry(QtCore.QRect(1220, 570, 351, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.d_ownername_field.setFont(font)
        self.d_ownername_field.setCursor(QtGui.QCursor(QtCore.Qt.IBeamCursor))
        self.d_ownername_field.setText("")
        self.d_ownername_field.setReadOnly(True)
        self.d_ownername_field.setObjectName("d_ownername_field")
        self.d_searchfilter_label = QtWidgets.QLabel(self.delete)
        self.d_searchfilter_label.setGeometry(QtCore.QRect(1640, 80, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_searchfilter_label.setFont(font)
        self.d_searchfilter_label.setObjectName("d_searchfilter_label")
        self.d_choosearch_combobox = QtWidgets.QComboBox(self.delete)
        self.d_choosearch_combobox.setGeometry(QtCore.QRect(1310, 320, 251, 41))
        self.d_choosearch_combobox.setObjectName("d_choosearch_combobox")
        self.d_piecenumsearch_label = QtWidgets.QLabel(self.delete)
        self.d_piecenumsearch_label.setGeometry(QtCore.QRect(1640, 180, 241, 81))
        font = QtGui.QFont()
        font.setPointSize(16)
        self.d_piecenumsearch_label.setFont(font)
        self.d_piecenumsearch_label.setObjectName("d_piecenumsearch_label")
        self.tabWidget.addTab(self.delete, "")
        self.manage = QtWidgets.QWidget()
        self.manage.setObjectName("manage")
        self.toolBox_2 = QtWidgets.QToolBox(self.manage)
        self.toolBox_2.setGeometry(QtCore.QRect(30, -4, 1881, 941))
        self.toolBox_2.setObjectName("toolBox_2")
        self.m_users_page = QtWidgets.QWidget()
        self.m_users_page.setGeometry(QtCore.QRect(0, 0, 1881, 812))
        self.m_users_page.setObjectName("m_users_page")
        self.m_users_table = QtWidgets.QTableWidget(self.m_users_page)
        self.m_users_table.setGeometry(QtCore.QRect(15, 0, 1861, 451))
        self.m_users_table.setObjectName("m_users_table")
        self.m_users_table.setFont(font)
        self.m_blockuser_b = QtWidgets.QPushButton(self.m_users_page)
        self.m_blockuser_b.setGeometry(QtCore.QRect(1672, 490, 191, 41))
        self.m_blockuser_b.setObjectName("m_blockuser_b")
        self.m_allowuser_b = QtWidgets.QPushButton(self.m_users_page)
        self.m_allowuser_b.setGeometry(QtCore.QRect(1460, 490, 191, 41))
        self.m_allowuser_b.setObjectName("m_allowuser_b")
        self.m_changepass_b = QtWidgets.QPushButton(self.m_users_page)
        self.m_changepass_b.setGeometry(QtCore.QRect(1220, 490, 191, 41))
        self.m_changepass_b.setObjectName("m_changepass_b")
        self.m_newpass2_field = QtWidgets.QLineEdit(self.m_users_page)
        self.m_newpass2_field.setGeometry(QtCore.QRect(840, 560, 341, 51))
        self.m_newpass2_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.m_newpass2_field.setObjectName("m_newpass2_field")
        self.m_changepass2_label = QtWidgets.QLabel(self.m_users_page)
        self.m_changepass2_label.setGeometry(QtCore.QRect(1190, 570, 201, 31))
        self.m_changepass2_label.setObjectName("m_changepass2_label")
        self.m_savepasschange2_b = QtWidgets.QPushButton(self.m_users_page)
        self.m_savepasschange2_b.setGeometry(QtCore.QRect(830, 690, 141, 41))
        self.m_savepasschange2_b.setObjectName("m_savepasschange2_b")
        self.m_confirmpass2_field = QtWidgets.QLineEdit(self.m_users_page)
        self.m_confirmpass2_field.setGeometry(QtCore.QRect(840, 620, 341, 51))
        self.m_confirmpass2_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.m_confirmpass2_field.setObjectName("m_confirmpass2_field")
        self.m_confirmpass2_label = QtWidgets.QLabel(self.m_users_page)
        self.m_confirmpass2_label.setGeometry(QtCore.QRect(1190, 630, 201, 31))
        self.m_confirmpass2_label.setObjectName("m_confirmpass2_label")
        self.toolBox_2.addItem(self.m_users_page, "")
        self.m_newuser_page = QtWidgets.QWidget()
        self.m_newuser_page.setObjectName("m_newuser_page")
        self.m_mainpasschange_label = QtWidgets.QLabel(self.m_newuser_page)
        self.m_mainpasschange_label.setGeometry(QtCore.QRect(1590, 10, 271, 61))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.m_mainpasschange_label.setFont(font)
        self.m_mainpasschange_label.setObjectName("m_mainpasschange_label")
        self.m_newusername_label = QtWidgets.QLabel(self.m_newuser_page)
        self.m_newusername_label.setGeometry(QtCore.QRect(1670, 120, 161, 51))
        self.m_newusername_label.setObjectName("m_newusername_label")
        self.m_newusername_field = QtWidgets.QLineEdit(self.m_newuser_page)
        self.m_newusername_field.setGeometry(QtCore.QRect(1360, 120, 261, 51))
        self.m_newusername_field.setObjectName("m_newusername_field")
        self.m_newuserpass_field = QtWidgets.QLineEdit(self.m_newuser_page)
        self.m_newuserpass_field.setGeometry(QtCore.QRect(1360, 230, 261, 51))
        self.m_newuserpass_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.m_newuserpass_field.setObjectName("m_newuserpass_field")
        self.m_newuserpass_label = QtWidgets.QLabel(self.m_newuser_page)
        self.m_newuserpass_label.setGeometry(QtCore.QRect(1670, 230, 161, 51))
        self.m_newuserpass_label.setObjectName("m_newuserpass_label")
        self.m_newuserconfirmpass_label = QtWidgets.QLabel(self.m_newuser_page)
        self.m_newuserconfirmpass_label.setGeometry(QtCore.QRect(1640, 310, 191, 51))
        self.m_newuserconfirmpass_label.setObjectName("m_newuserconfirmpass_label")
        self.m_newuserconfirmpass_field = QtWidgets.QLineEdit(self.m_newuser_page)
        self.m_newuserconfirmpass_field.setGeometry(QtCore.QRect(1360, 320, 261, 51))
        self.m_newuserconfirmpass_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.m_newuserconfirmpass_field.setObjectName("m_newuserconfirmpass_field")
        self.m_adduser_b = QtWidgets.QPushButton(self.m_newuser_page)
        self.m_adduser_b.setGeometry(QtCore.QRect(1560, 400, 281, 61))
        font = QtGui.QFont()
        font.setPointSize(20)
        self.m_adduser_b.setFont(font)
        self.m_adduser_b.setObjectName("m_adduser_b")
        self.label = QtWidgets.QLabel(self.m_newuser_page)
        self.label.setGeometry(QtCore.QRect(1110, 180, 511, 31))
        self.label.setObjectName("label")
        self.toolBox_2.addItem(self.m_newuser_page, "")
        self.m_bakeup_page = QtWidgets.QWidget()
        self.m_bakeup_page.setGeometry(QtCore.QRect(0, 0, 1881, 812))
        self.m_bakeup_page.setObjectName("m_bakeup_page")
        self.m_exportbackup_b = QtWidgets.QPushButton(self.m_bakeup_page)
        self.m_exportbackup_b.setGeometry(QtCore.QRect(1262, 80, 281, 81))
        self.m_exportbackup_b.setObjectName("m_exportbackup_b")
        self.m_importbackup_b = QtWidgets.QPushButton(self.m_bakeup_page)
        self.m_importbackup_b.setGeometry(QtCore.QRect(930, 80, 281, 81))
        self.m_importbackup_b.setObjectName("m_importbackup_b")
        self.toolBox_2.addItem(self.m_bakeup_page, "")
        self.tabWidget.addTab(self.manage, "")
        self.log = QtWidgets.QWidget()
        self.log.setObjectName("log")
        self.toolBox = QtWidgets.QToolBox(self.log)
        self.toolBox.setGeometry(QtCore.QRect(40, 0, 1871, 891))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.toolBox.setFont(font)
        self.toolBox.setLayoutDirection(QtCore.Qt.RightToLeft)
        self.toolBox.setObjectName("toolBox")
        self.log_page = QtWidgets.QWidget()
        self.log_page.setGeometry(QtCore.QRect(0, 0, 1871, 789))
        self.log_page.setObjectName("log_page")
        self.L_log_table = QtWidgets.QTableWidget(self.log_page)
        self.L_log_table.setGeometry(QtCore.QRect(0, 0, 1871, 781))
        font = QtGui.QFont()
        font.setPointSize(18)
        self.L_log_table.setFont(font)
        self.L_log_table.setObjectName("L_log_table")
        self.L_log_table.setColumnCount(0)
        self.L_log_table.setRowCount(0)
        self.toolBox.addItem(self.log_page, "")
        self.changedaatalog_page = QtWidgets.QWidget()
        self.changedaatalog_page.setGeometry(QtCore.QRect(0, 0, 1871, 789))
        self.changedaatalog_page.setObjectName("changedaatalog_page")
        self.l_changedatalog_table = QtWidgets.QTableWidget(self.changedaatalog_page)
        self.l_changedatalog_table.setGeometry(QtCore.QRect(5, 0, 1861, 781))
        self.l_changedatalog_table.setObjectName("l_changedatalog_table")
        self.l_changedatalog_table.setColumnCount(0)
        self.l_changedatalog_table.setRowCount(0)
        self.l_changedatalog_table.setFont(font)
        self.toolBox.addItem(self.changedaatalog_page, "")
        self.tabWidget.addTab(self.log, "")
        self.manage_account = QtWidgets.QWidget()
        self.manage_account.setObjectName("manage_account")
        self.ma_changepass_b = QtWidgets.QPushButton(self.manage_account)
        self.ma_changepass_b.setGeometry(QtCore.QRect(1612, 30, 271, 71))
        self.ma_changepass_b.setObjectName("ma_changepass_b")
        self.ma_logout_b = QtWidgets.QPushButton(self.manage_account)
        self.ma_logout_b.setGeometry(QtCore.QRect(1610, 160, 271, 71))
        self.ma_logout_b.setObjectName("ma_logout_b")
        self.ma_oldpass_label = QtWidgets.QLabel(self.manage_account)
        self.ma_oldpass_label.setGeometry(QtCore.QRect(1160, 50, 221, 61))
        self.ma_oldpass_label.setObjectName("ma_oldpass_label")
        self.ma_oldpass_field = QtWidgets.QLineEdit(self.manage_account)
        self.ma_oldpass_field.setGeometry(QtCore.QRect(820, 60, 311, 51))
        self.ma_oldpass_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.ma_oldpass_field.setObjectName("ma_oldpass_field")
        self.ma_newpass_label = QtWidgets.QLabel(self.manage_account)
        self.ma_newpass_label.setGeometry(QtCore.QRect(1160, 130, 221, 61))
        self.ma_newpass_label.setObjectName("ma_newpass_label")
        self.ma_newpass_field = QtWidgets.QLineEdit(self.manage_account)
        self.ma_newpass_field.setGeometry(QtCore.QRect(820, 140, 311, 51))
        self.ma_newpass_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.ma_newpass_field.setObjectName("ma_newpass_field")
        self.ma_confirmnewpass_label = QtWidgets.QLabel(self.manage_account)
        self.ma_confirmnewpass_label.setGeometry(QtCore.QRect(1140, 220, 241, 61))
        self.ma_confirmnewpass_label.setObjectName("ma_confirmnewpass_label")
        self.ma_confiemnewpass_field = QtWidgets.QLineEdit(self.manage_account)
        self.ma_confiemnewpass_field.setGeometry(QtCore.QRect(820, 230, 311, 51))
        self.ma_confiemnewpass_field.setEchoMode(QtWidgets.QLineEdit.PasswordEchoOnEdit)
        self.ma_confiemnewpass_field.setObjectName("ma_confiemnewpass_field")
        self.ma_savenewpass_b = QtWidgets.QPushButton(self.manage_account)
        self.ma_savenewpass_b.setGeometry(QtCore.QRect(830, 300, 271, 71))
        self.ma_savenewpass_b.setObjectName("ma_savenewpass_b")
        self.tabWidget.addTab(self.manage_account, "")
        MainWindow.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)
        self.retranslateUi(MainWindow)
        self.tabWidget.setCurrentIndex(0)
        self.toolBox_2.setCurrentIndex(0)
        self.toolBox.setCurrentIndex(0)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        self.sethiddenonstartup()

        slotLambda = lambda: self.comboboxchanged('s')
        elotLambda = lambda: self.comboboxchanged('e')
        dlotLambda = lambda: self.comboboxchanged('d')

        self.s_searchfilter_combobox.currentIndexChanged.connect(slotLambda)
        self.e_searchfilter_combobox.currentIndexChanged.connect(elotLambda)
        self.d_searchfilter_combobox.currentIndexChanged.connect(dlotLambda)
        self.premissoncheck()
        slotLambda2 = lambda: self.searchquery('s')
        elotLambda2 = lambda: self.searchquery('e')
        dlotLambda2 = lambda: self.searchquery('d')
        self.s_search_b.clicked.connect(slotLambda2)
        self.e_search_b.clicked.connect(elotLambda2)
        self.d_search_b.clicked.connect(dlotLambda2)
        openlinklambda = lambda: self.linkopen()
        self.s_openlink_b.clicked.connect(openlinklambda)
        searchtablambda = lambda: self.searchtabquery()
        self.s_choosearch_combobox.currentIndexChanged.connect(searchtablambda)
        s_piclambda = lambda: self.s_picslider()
        self.s_pic_slider.valueChanged.connect(s_piclambda)
        s_savepic = lambda: self.savepic()
        self.s_savepic_b.clicked.connect(s_savepic)
        a_flaw_add = lambda: self.addflaw()
        self.a_addflaw_b.clicked.connect(a_flaw_add)
        a_browspiclambda = lambda:self.browsepic()
        self.a_browsepic_b.clicked.connect(a_browspiclambda)
        a_addpictolistlambda = lambda: self.addpic()
        self.a_addpic_b.clicked.connect(a_addpictolistlambda)
        a_piclambda = lambda: self.a_addpicslider()
        self.a_picslider.valueChanged.connect(a_piclambda)
        a_clearbuttonlambda = lambda : self.a_clearbutton()
        self.a_clear_b.clicked.connect(a_clearbuttonlambda)
        a_savebutton_lambda = lambda : self.a_savebutton()
        self.a_save_b.clicked.connect(a_savebutton_lambda)
        d_searchtablambda = lambda: self.d_searchtab()
        self.d_choosearch_combobox.currentIndexChanged.connect(d_searchtablambda)
        d_piclambda = lambda: self.d_picsliderfun()
        self.d_picslider.valueChanged.connect(d_piclambda)
        d_deletebuttonlambda = lambda:self.d_deletebutton()
        self.d_deletearc_b.clicked.connect(d_deletebuttonlambda)
        ma_showpasschanginglambda = lambda: self.ma_changepasswordbutton()
        self.ma_changepass_b.clicked.connect(ma_showpasschanginglambda)
        ma_savepasslambda = lambda: self.ma_savepasssqlbutton()
        self.ma_savenewpass_b.clicked.connect(ma_savepasslambda)
        m_addnewuserlambda = lambda: self.m_addnewuserbutton()
        self.m_adduser_b.clicked.connect(m_addnewuserlambda)
        self.m_usertable()
        self.log_table()
        self.changedatalogtable()
        blockuserlambda = lambda: self.blockuser()
        self.m_blockuser_b.clicked.connect(blockuserlambda)
        allowuserlambda = lambda: self.allowuser()
        self.m_allowuser_b.clicked.connect(allowuserlambda) 
        mangaepasslambda = lambda:self.manageuserschangepass()
        self.m_changepass_b.clicked.connect(mangaepasslambda)
        savepassusermanagelambda = lambda: self.savemanageuserpass()
        self.m_savepasschange2_b.clicked.connect(savepassusermanagelambda)
    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "ارشيف"))
        self.groupBox_3.setTitle(_translate("MainWindow", "الصور"))
        self.s_savepic_b.setText(_translate("MainWindow", "حفظ الصورة"))
        self.s_piclist_label.setText(_translate("MainWindow", "قائمة الصور"))
        self.s_mainlabel.setText(_translate("MainWindow", "بحث عن مخطط"))
        self.s_archnum_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.s_ownerid_label.setText(_translate("MainWindow", "رقم الهوية"))
        self.s_ownerid_fail.setText(_translate("MainWindow", "*رقم الهوية غير صحيح"))
        self.s_archnum_fail.setText(_translate("MainWindow", "*رقم المخطط غير صحيح"))
        self.s_piecenum_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.s_piecenum_fail.setText(_translate("MainWindow", "*رقم القطعة غير صحيح"))
        self.s_ownername_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.s_ownername_fail.setText(_translate("MainWindow", "*الاسم غير صحيح"))
        self.s_flawslist_label.setText(_translate("MainWindow", "قائمة المخالفات"))
        self.s_searchfilter_combobox.setItemText(0, _translate("MainWindow", "اختار طريقة البحث"))
        self.s_searchfilter_combobox.setItemText(1, _translate("MainWindow", "رقم المخطط"))
        self.s_searchfilter_combobox.setItemText(2, _translate("MainWindow", "رقم القطعة"))
        self.s_searchfilter_combobox.setItemText(3, _translate("MainWindow", "اسم صاحب القطعة"))
        self.s_searchfilter_combobox.setItemText(4, _translate("MainWindow", "رقم هوية"))
        self.s_searchfilter_label.setText(_translate("MainWindow", "بحث باستخدام"))
        self.s_archnumsearch_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.s_choosearch_label.setText(_translate("MainWindow", "اختار المخطط"))
        self.s_piecenumsearch_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.s_owneridsearch_label.setText(_translate("MainWindow", "رقم هوية صاحب القطعة"))
        self.s_ownernamesearch_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.s_search_b.setText(_translate("MainWindow", "بحث"))
        self.s_location_label.setText(_translate("MainWindow", "الموقع"))
        self.s_openlink_b.setText(_translate("MainWindow", "فتح الرابط"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.search), _translate("MainWindow", "بحث"))
        self.a_mainbagetext_label.setText(_translate("MainWindow", "اضافة مخطط جديد"))
        self.a_atchnum_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.a_piecenum_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.a_ownername_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.a_ownerid_label.setText(_translate("MainWindow", "رقم هوية صاحب القطعة"))
        self.groupBox.setTitle(_translate("MainWindow", "المخالفات"))
        self.a_addflaw_b.setText(_translate("MainWindow", "اضف"))
        self.a_fawslist_label.setText(_translate("MainWindow", "قائمة المخالفات"))
        self.groupBox_2.setTitle(_translate("MainWindow", "الصور"))
        self.a_browsepic_b.setText(_translate("MainWindow", "تصفح"))
        self.a_piclist_label.setText(_translate("MainWindow", "قائمة الصور"))
        self.a_addpic_b.setText(_translate("MainWindow", "اضف"))
        self.a_archnum_fail.setText(_translate("MainWindow", "*رقم المخطط غير صحيح"))
        self.a_piecenum_fail.setText(_translate("MainWindow", "*رقم القطعة غير صحيح"))
        self.a_ownername_fail.setText(_translate("MainWindow", "*الاسم غير صحيح"))
        self.a_ownerid_fail.setText(_translate("MainWindow", "*رقم الهوية غير صحيح"))
        self.a_save_b.setText(_translate("MainWindow", "حفظ"))
        self.a_clear_b.setText(_translate("MainWindow", "إزالة"))
        self.a_succ_label.setText(_translate("MainWindow", "تم الحفظ بنجاح."))
        self.a_failsave_label.setText(_translate("MainWindow", "فشل الحفظ. الرجاء التأكد من المعلومات."))
        self.a_location_label.setText(_translate("MainWindow", "الموقع"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.add), _translate("MainWindow", "اضافة"))
        self.e_ownernamesearch_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.e_piecenum_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.e_ownername_fail.setText(_translate("MainWindow", "*الاسم غير صحيح"))
        self.e_archnumsearch_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.e_search_b.setText(_translate("MainWindow", "بحث"))
        self.e_archnumfail_label.setText(_translate("MainWindow", "*رقم المخطط غير صحيح"))
        self.e_searchfilter_combobox.setItemText(0, _translate("MainWindow", "اختار طريقة البحث"))
        self.e_searchfilter_combobox.setItemText(1, _translate("MainWindow", "رقم المخطط"))
        self.e_searchfilter_combobox.setItemText(2, _translate("MainWindow", "رقم القطعة"))
        self.e_searchfilter_combobox.setItemText(3, _translate("MainWindow", "اسم صاحب القطعة"))
        self.e_searchfilter_combobox.setItemText(4, _translate("MainWindow", "رقم هوية"))
        self.e_ownerid_label.setText(_translate("MainWindow", "رقم الهوية"))
        self.e_location_label.setText(_translate("MainWindow", "الموقع"))
        self.e_choosearchname_label.setText(_translate("MainWindow", "اختار مخطط"))
        self.e_mainlabel.setText(_translate("MainWindow", "تعديل مخطط"))
        self.e_ownerid_fail.setText(_translate("MainWindow", "*رقم الهوية غير صحيح"))
        self.e_archnum_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.e_piecenum_fail.setText(_translate("MainWindow", "*رقم القطعة غير صحيح"))
        self.e_owneridsearch_label.setText(_translate("MainWindow", "رقم هوية صاحب القطعة"))
        self.groupBox_4.setTitle(_translate("MainWindow", "الصور"))
        self.e_addpic_b.setText(_translate("MainWindow", "اضافة صورة"))
        self.e_piclist_label.setText(_translate("MainWindow", "قائمة الصور"))
        self.e_deletepic_b.setText(_translate("MainWindow", "حذف صورة"))
        self.e_ownername_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.e_searchfilter_label.setText(_translate("MainWindow", "بحث باستخدام"))
        self.e_piecenumsearch_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.e_flawslist_label.setText(_translate("MainWindow", "قائمة المخالفات"))
        self.e_addflaw_label.setText(_translate("MainWindow", "اضافة مخالفة"))
        self.e_addflaw_b.setText(_translate("MainWindow", "اضافة"))
        self.e_deleteflaw_b.setText(_translate("MainWindow", "حذف مخالفة"))
        self.e_editarch_b.setText(_translate("MainWindow", "تعديل المخطط"))
        self.e_ownerid_fail2.setText(_translate("MainWindow", "*رقم الهوية غير صحيح"))
        self.e_ownername_fail2.setText(_translate("MainWindow", "*الاسم غير صحيح"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.edit), _translate("MainWindow", "تعديل"))
        self.d_ownernamesearch_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.d_piecenum_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.d_ownername_fail.setText(_translate("MainWindow", "*الاسم غير صحيح"))
        self.d_archnumsearch_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.d_search_b.setText(_translate("MainWindow", "بحث"))
        self.d_archnum_fail.setText(_translate("MainWindow", "*رقم المخطط غير صحيح"))
        self.d_flaws_label.setText(_translate("MainWindow", "قائمة المخالفات"))
        self.d_searchfilter_combobox.setItemText(0, _translate("MainWindow", "اختار طريقة البحث"))
        self.d_searchfilter_combobox.setItemText(1, _translate("MainWindow", "رقم المخطط"))
        self.d_searchfilter_combobox.setItemText(2, _translate("MainWindow", "رقم القطعة"))
        self.d_searchfilter_combobox.setItemText(3, _translate("MainWindow", "اسم صاحب القطعة"))
        self.d_searchfilter_combobox.setItemText(4, _translate("MainWindow", "رقم هوية"))
        self.d_ownerid_label.setText(_translate("MainWindow", "رقم الهوية"))
        self.d_location_label.setText(_translate("MainWindow", "الموقع"))
        self.d_choosearch_label.setText(_translate("MainWindow", "اختار المخطط"))
        self.d_mainlabel.setText(_translate("MainWindow", "حذف مخطط"))
        self.d_ownerid_fail.setText(_translate("MainWindow", "*رقم الهوية غير صحيح"))
        self.d_archnum_label.setText(_translate("MainWindow", "رقم المخطط"))
        self.d_piecenum_fail.setText(_translate("MainWindow", "*رقم القطعة غير صحيح"))
        self.d_owneridsearch_label.setText(_translate("MainWindow", "رقم هوية صاحب القطعة"))
        self.d_deletearc_b.setText(_translate("MainWindow", "حذف"))
        self.groupBox_6.setTitle(_translate("MainWindow", "الصور"))
        self.d_piclist_label.setText(_translate("MainWindow", "قائمة الصور"))
        self.d_ownername_label.setText(_translate("MainWindow", "اسم صاحب القطعة"))
        self.d_searchfilter_label.setText(_translate("MainWindow", "بحث باستخدام"))
        self.d_piecenumsearch_label.setText(_translate("MainWindow", "رقم القطعة"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.delete), _translate("MainWindow", "حذف"))
        self.m_blockuser_b.setText(_translate("MainWindow", "حجب مستخدم"))
        self.m_allowuser_b.setText(_translate("MainWindow", "سماح لمستخدم"))
        self.m_changepass_b.setText(_translate("MainWindow", "تغيير كلمة مرور"))
        self.m_changepass2_label.setText(_translate("MainWindow", "كلمة المرور الجديدة"))
        self.m_savepasschange2_b.setText(_translate("MainWindow", "حفظ"))
        self.m_confirmpass2_label.setText(_translate("MainWindow", "اكد كلمة المرور"))
        self.toolBox_2.setItemText(self.toolBox_2.indexOf(self.m_users_page), _translate("MainWindow", "المستخدمين"))
        self.m_mainpasschange_label.setText(_translate("MainWindow", "اضافة مستخدم جديد"))
        self.m_newusername_label.setText(_translate("MainWindow", "اسم المستخدم"))
        self.m_newuserpass_label.setText(_translate("MainWindow", "كلمة المرور"))
        self.m_newuserconfirmpass_label.setText(_translate("MainWindow", "تاكيد كلمة المرور"))
        self.m_adduser_b.setText(_translate("MainWindow", "اضافة"))
        self.label.setText(_translate("MainWindow", "*اسم المستخدم موجود الرجاء استخدام اسم جديد."))
        self.toolBox_2.setItemText(self.toolBox_2.indexOf(self.m_newuser_page), _translate("MainWindow", "اضافة مستخدم جديد"))
        self.m_exportbackup_b.setText(_translate("MainWindow", "تصدير نسخة احتياطية"))
        self.m_importbackup_b.setText(_translate("MainWindow", "اضافة نسخة احتياطية"))
        self.toolBox_2.setItemText(self.toolBox_2.indexOf(self.m_bakeup_page), _translate("MainWindow", "نسخة احتياطية"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.manage), _translate("MainWindow", "ادارة"))
        self.L_log_table.setSortingEnabled(False)
        self.toolBox.setItemText(self.toolBox.indexOf(self.log_page), _translate("MainWindow", "سجل الدخول"))
        self.toolBox.setItemText(self.toolBox.indexOf(self.changedaatalog_page), _translate("MainWindow", "سجل تغيير البيانات"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.log), _translate("MainWindow", "سجل الدخول"))
        self.ma_changepass_b.setText(_translate("MainWindow", "تغيير كلمة السر"))
        self.ma_logout_b.setText(_translate("MainWindow", "تسجيل الخروج"))
        self.ma_oldpass_label.setText(_translate("MainWindow", "كلمة المرور القديمة"))
        self.ma_newpass_label.setText(_translate("MainWindow", "كلمة المرور الجديدة"))
        self.ma_confirmnewpass_label.setText(_translate("MainWindow", "تاكيد كلمة المرور الجديدة"))
        self.ma_savenewpass_b.setText(_translate("MainWindow", "حفظ"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.manage_account), _translate("MainWindow", "إدارة الحساب"))
    def searchtabhide(self,mode):
        failwidgetlist = ["s_ownerid_fail","s_archnum_fail","s_piecenum_fail","s_ownername_fail","s_archnumsearch_label","s_piecenumsearch_label","s_owneridsearch_label","s_ownernamesearch_label"]
        mainwidgetlist = ["groupBox_3","s_archnum_field","s_archnum_label","s_ownerid_field","s_ownerid_label","s_piecenum_label","s_piecenum_field","s_ownername_field","s_ownername_label","s_flawslist_label","s_flaws_list","s_choosearch_combobox","s_searchfield","s_choosearch_label","s_search_b","s_location_field","s_location_label","s_openlink_b"]
        widgetlist = []
        if mode == 1 :
            widgetlist = failwidgetlist + mainwidgetlist
            setmode = 'hide'
        elif mode == 2 :
            widgetlist = mainwidgetlist
            setmode = 'show'
        for i in widgetlist:
            eval(f"self.{i}.{setmode}()")
    def addtabhide(self):
        mainwidgetlist = ["a_archnum_fail","a_piecenum_fail","a_ownername_fail","a_ownerid_fail","a_succ_label","a_failsave_label"]
        for i in mainwidgetlist:
            eval(f"self.{i}.hide()")
    def edittabhide(self,mode):
        failwidgetlist = ["e_ownernamesearch_label","e_ownername_fail","e_archnumsearch_label","e_archnumfail_label","e_ownerid_fail","e_piecenum_fail","e_owneridsearch_label","e_piecenumsearch_label","e_ownerid_fail2","e_ownername_fail2"]
        mainwidgetlist = ["e_search_field","e_piecenum_label","e_search_b","e_piecenum_field","e_location_field","e_ownerid_label","e_location_label","e_choosearchname_label","e_archnum_label","e_ownerid_field","groupBox_4","e_archnum_field","e_ownername_label","e_ownername_field","e_choosearchname_combobox","groupBox_5","e_editarch_b"]
        if mode == 1 :
            widgetlist = failwidgetlist + mainwidgetlist
            setmode = 'hide'
        elif mode == 2 :
            widgetlist = mainwidgetlist
            setmode = 'show'
        for i in widgetlist:
            eval(f"self.{i}.{setmode}()")
    def deletetabhide(self,mode):
        failwidgetlist = ["d_ownernamesearch_label","d_ownername_fail","d_archnumsearch_label","d_archnum_fail","d_ownerid_fail","d_piecenum_fail","d_owneridsearch_label","d_piecenumsearch_label"]
        mainwidgetlist = ["d_searchfield","d_piecenum_label","d_flaws_list","d_search_b","d_piecenum_field","d_flaws_label","d_location_field","d_location_field","d_ownerid_label","d_location_label","d_choosearch_label","d_archnum_label","d_ownerid_field","d_deletearc_b","groupBox_6","d_archnum_field","d_ownername_label","d_ownername_field","d_choosearch_combobox"]
        if mode == 1 :
            widgetlist = failwidgetlist + mainwidgetlist
            setmode = 'hide'
        elif mode == 2 :
            widgetlist = mainwidgetlist
            setmode = 'show'
        for i in widgetlist:
            eval(f"self.{i}.{setmode}()")
    def managetabhide(self,mode):
        failwidgetlist = ["label"]
        mainwidgetlist = ["m_newpass2_field","m_changepass2_label","m_savepasschange2_b","m_confirmpass2_field","m_confirmpass2_label"]
        if mode == 1 :
            widgetlist = failwidgetlist + mainwidgetlist
            setmode = 'hide'
        elif mode == 2 :
            widgetlist = mainwidgetlist
            setmode = 'show'
        for i in widgetlist:
            eval(f"self.{i}.{setmode}()")
    def manageaccounttabhide(self):
        mainwidgetlist = ["ma_oldpass_field","ma_newpass_field","ma_confiemnewpass_field","ma_oldpass_label","ma_newpass_label","ma_confirmnewpass_label","ma_savenewpass_b"]
        for i in mainwidgetlist:
            eval(f"self.{i}.hide()")
    def sethiddenonstartup(self):
        self.searchtabhide(1)
        self.addtabhide()
        self.edittabhide(1)
        self.deletetabhide(1)
        self.managetabhide(1)
        self.manageaccounttabhide()
    def errorraiser(self,tab,errornum):
        searcherrors = {1:"s_ownerid_fail",2:"s_archnum_fail",3:"s_piecenum_fail",4:"s_ownername_fail",5:"s_archnumsearch_label",6:"s_piecenumsearch_label",7:"s_owneridsearch_label",8:"s_ownernamesearch_label"}
        adderrors = {1:"a_archnum_fail",2:"a_piecenum_fail",3:"a_ownername_fail",4:"a_ownerid_fail",5:"a_succ_label",6:"a_failsave_label"}
        editerrors = {1:"e_ownernamesearch_label",2:"e_ownername_fail",3:"e_archnumsearch_label",4:"e_archnumfail_label",5:"e_ownerid_fail",6:"e_piecenum_fail",7:"e_owneridsearch_label",8:"e_piecenumsearch_label",9:"e_ownerid_fail2",10:"e_ownername_fail2"}
        deleteerrors = {1:"d_ownernamesearch_label",2:"d_ownername_fail",3:"d_archnumsearch_label",4:"d_archnum_fail",5:"d_ownerid_fail",6:"d_piecenum_fail",7:"d_owneridsearch_label",8:"d_piecenumsearch_label"}
        manageerrors = {1:"label"}
        manageaccounterrors = {1:"ma_oldpass_field",2:"ma_newpass_field",3:"ma_confiemnewpass_field",4:"ma_oldpass_label",5:"ma_newpass_label",6:"ma_confirmnewpass_label",7:"ma_savenewpass_b"}
        if tab == 's' :
            try:
                eval(f"self.{searcherrors.get(errornum)}.show()")
            except:
                pass
        elif tab == 'e':
            eval(f"self.{editerrors.get(errornum)}.show()")
        elif tab =='d':
            eval(f"self.{deleteerrors.get(errornum)}.show()")
        elif tab =='m':
            eval(f"self.{manageerrors.get(errornum)}.show()")
        elif tab =='a':
            eval(f"self.{adderrors.get(errornum)}.show()")
        elif tab =='ma':
            eval(f"self.{manageaccounterrors.get(errornum)}")
    def searchmodelabel(self,tab,mode):
        if tab == 's' :
            if mode == 0:
                self.searchtabhide(1)
            elif mode == 1:
                self.errorraiser('s',5)
            elif mode == 2:
                self.errorraiser('s',6)
            elif mode == 3:
                self.errorraiser('s',8)
            elif mode == 4:
                self.errorraiser('s',7)
            if mode != 0:
                self.s_searchfield.show()
                self.s_search_b.show()
        elif tab == 'e':
            if mode == 0:
                self.edittabhide(1)
            elif mode == 1:
                self.errorraiser('e',3)
            elif mode == 2:
                self.errorraiser('e',8)
            elif mode == 3:
                self.errorraiser('e',1)
            elif mode == 4:
                self.errorraiser('e',7)
            if mode != 0 :
                self.e_search_field.show()
                self.e_search_b.show()
        elif tab =='d':
            if mode == 0:
                self.deletetabhide(1)
            elif mode == 1:
                self.errorraiser('d',3)
            elif mode == 2:
                self.errorraiser('d',8)
            elif mode == 3:
                self.errorraiser('d',1)
            elif mode == 4:
                self.errorraiser('d',7)
            if mode != 0:
                self.d_searchfield.show()
                self.d_search_b.show()
    def comboboxchanged(self,tab):
        if tab == 's' :
            self.s_archnum_field.clear()
            self.s_piecenum_field.clear()
            self.s_ownername_field.clear()
            self.s_ownerid_field.clear()
            self.s_location_field.clear()
            self.s_flaws_list.clear()
            self.s_piclist.clear()
            self.s_archnum_field.hide()
            self.s_archnum_label.hide()
            self.s_piecenum_field.hide()
            self.s_piecenum_label.hide()
            self.s_ownername_field.hide()
            self.s_ownername_label.hide()
            self.s_ownerid_field.hide()
            self.s_ownerid_label.hide()
            self.s_location_field.hide()
            self.s_location_label.hide()
            self.s_flaws_list.hide()
            self.s_flawslist_label.hide()
            self.groupBox_3.hide()
            self.searchtabhide(1)
            self.s_mode = self.s_searchfilter_combobox.currentIndex()
            self.searchmodelabel('s',self.s_mode)
        elif tab == 'e':
            self.edittabhide(1)
            self.e_mode = self.e_searchfilter_combobox.currentIndex()
            self.searchmodelabel('e',self.e_mode)
        elif tab =='d':
            self.deletetabhide(1)
            self.d_mode = self.d_searchfilter_combobox.currentIndex()
            self.searchmodelabel('d',self.d_mode)
    def premissoncheck(self):
        if self.userprem == 1:
            pass
        elif self.userprem == 2:
            self.tabWidget.removeTab(self.tabWidget.indexOf(self.delete))
            self.tabWidget.removeTab(self.tabWidget.indexOf(self.manage))
            self.tabWidget.removeTab(self.tabWidget.indexOf(self.log))
    def searchquery(self,tab):
        if tab == 's':
            self.s_archnum_field.clear()
            self.s_piecenum_field.clear()
            self.s_ownername_field.clear()
            self.s_ownerid_field.clear()
            self.s_location_field.clear()
            self.s_flaws_list.clear()
            self.s_piclist.clear()
            self.s_archnum_field.hide()
            self.s_archnum_label.hide()
            self.s_piecenum_field.hide()
            self.s_piecenum_label.hide()
            self.s_ownername_field.hide()
            self.s_ownername_label.hide()
            self.s_ownerid_field.hide()
            self.s_ownerid_label.hide()
            self.s_location_field.hide()
            self.s_location_label.hide()
            self.s_flaws_list.hide()
            self.s_flawslist_label.hide()
            self.groupBox_3.hide()
            self.s_choosearch_combobox.clear()
            failwidgetlist = ["s_ownerid_fail","s_archnum_fail","s_piecenum_fail","s_ownername_fail"]
            for i in failwidgetlist:
                eval(f"self.{i}.hide()")
            succ,er,ind = sqlsearchquery(self.s_mode,self.s_searchfield.text())
            if succ:
                self.s_choosearch_combobox.show()
                self.s_choosearch_label.show()
                self.s_ind = ind
                for i in er:
                    self.s_choosearch_combobox.addItem(i)
            else:
                self.errorraiser('s',er)
        elif tab == 'e':
            self.e_choosearchname_combobox.clear()
            failwidgetlist = ["e_ownername_fail","e_archnumfail_label","e_ownerid_fail","e_piecenum_fail","e_ownerid_fail2","e_ownername_fail2"]
            for i in failwidgetlist:
                eval(f"self.{i}.hide()")
            succ,er,ind = e_sqlsearchquery(self.e_mode,self.e_search_field.text())
            if succ:
                self.e_choosearchname_combobox.show()
                self.e_choosearchname_label.show()
                self.e_ind = ind
                for i in er:
                    self.e_choosearchname_combobox.addItem(i)
            else:
                self.errorraiser('e',er)
        elif tab == 'd':
            self.d_choosearch_combobox.clear()
            failwidgetlist = ["d_ownername_fail","d_archnum_fail","d_ownerid_fail","d_piecenum_fail"]
            for i in failwidgetlist:
                eval(f"self.{i}.hide()")
            succ,er,ind = d_sqlsearchquery(self.d_mode,self.d_searchfield.text())
            if succ:
                self.d_choosearch_label.show()
                self.d_choosearch_combobox.show()
                self.d_ind = ind
                for i in er:
                    self.d_choosearch_combobox.addItem(i)
            else:
                self.errorraiser('d',er)
    def linkopen(self):
        import webbrowser
        try:
            webbrowser.open(self.s_location_field.text()) 
        except:
            pass       
    def searchtabquery(self):
        self.s_archnum_field.clear()
        self.s_piecenum_field.clear()
        self.s_ownername_field.clear()
        self.s_ownerid_field.clear()
        self.s_location_field.clear()
        self.s_flaws_list.clear()
        self.s_flawslist_label.clear()
        self.s_piclist.clear()
        self.s_archnum_field.hide()
        self.s_archnum_label.hide()
        self.s_piecenum_field.hide()
        self.s_piecenum_label.hide()
        self.s_ownername_field.hide()
        self.s_ownername_label.hide()
        self.s_ownerid_field.hide()
        self.s_ownerid_label.hide()
        self.s_location_field.hide()
        self.s_location_label.hide()
        self.s_flaws_list.hide()
        self.s_flawslist_label.hide()
        self.groupBox_3.hide()
        number = self.s_choosearch_combobox.currentIndex()
        if number == 0:
            pass
        else:
            
            archnum = self.s_ind[number]
            
            archlis , flawlis , imglis = sqlarchsearch(archnum)
            self.s_archnum_field.setText(str(archlis[0]))
            self.s_piecenum_field.setText(str(archlis[1]))
            self.s_ownername_field.setText(str(archlis[2]))
            self.s_ownerid_field.setText(str(archlis[3]))
            self.s_location_field.setText(str(archlis[4]))
            self.s_flaws_list.addItems(flawlis)
            self.s_piclist.addItems(imglis)
            self.s_archnum_field.show()
            self.s_archnum_label.show()
            self.s_piecenum_field.show()
            self.s_piecenum_label.show()
            self.s_ownername_field.show()
            self.s_ownername_label.show()
            self.s_ownerid_field.show()
            self.s_ownerid_label.show()
            self.s_location_field.show()
            self.s_location_label.show()
            self.s_flaws_list.show()
            self.s_flawslist_label.show()
            self.groupBox_3.show()
            self.s_pics = imglis
            self.s_pic_slider.setMinimum(0)
            self.s_pic_slider.setMaximum(len(imglis)-1)
            self.s_pic_slider.setValue(0)
            self.s_openlink_b.show()
            pixmap = QPixmap(self.s_pics[0])
            self.s_picpreview.setPixmap(pixmap)
    def s_picslider(self):
        imageindex = self.s_pic_slider.value()
        image = self.s_pics[imageindex]
        pixmap = QPixmap(image)
        self.s_picpreview.setPixmap(pixmap)
    def savepic(self):
        from shutil import copy
        imageindex = self.s_piclist.currentItem()
        value = imageindex.text()
        dest = self.saveFileDialog()
        copy(value, dest)
    def saveFileDialog(self):
        options = QFileDialog.Options()
        fileName = QFileDialog.getExistingDirectory(None,"QFileDialog.getSaveFileName()","", options=options)
        if fileName:
            return(fileName)
    def addflaw(self):
        self.a_flaws_list.clear()
        text = self.a_flaws_field.toPlainText()
        if text:
            self.a_flaw_update.append(text)
        self.a_flaws_list.addItems(self.a_flaw_update)
        self.a_flaws_field.clear()
    def addpic(self):
        self.a_pic_list.clear()
        text = self.a_addpic_field.text()
        if text:
            self.a_pics_update.append(text)
        self.a_pic_list.addItems(self.a_pics_update)
        self.a_picslider.setMinimum(0)
        self.a_picslider.setMaximum(len(self.a_pics_update)-1)
        self.a_picslider.setValue(0)
        self.a_addpic_field.clear()
        image = text
        pixmap = QPixmap(image)
        self.a_picpreview.setPixmap(pixmap)
    def openFileNameDialog(self):
        options = QFileDialog.Options()
        fileName, _ = QFileDialog.getOpenFileName(None,"QFileDialog.getOpenFileName()", "","Image Files (*.jpg *.jpeg *.jpe *.jif *.jfif *.jfi *.png *.webp *.tiff *.tif *.psd *.raw *.arw *.cr2 *.nrw *.k25 *.bmp *.dib *.heif *.hei *.ind *.indd *.indt *.jp2 *.j2k *.jpf *.jpx *.jpm *.mj2 *.svg *.svgz *.ai *.eps)", options=options)
        if fileName:
            return fileName 
    def browsepic(self):
        self.a_addpic_field.setText(self.openFileNameDialog())
    def a_addpicslider(self):
        imageindex = self.a_picslider.value()
        image = self.a_pics_update[imageindex]
        pixmap = QPixmap(image)
        self.a_picpreview.setPixmap(pixmap)
    def a_clearbutton(self):
        value = self.a_clearshowDialogself()
        if value:
            self.a_archnum_field.clear()       
            self.a_piecenum_field.clear()
            self.a_pieceowner_field.clear()
            self.a_ownerid_field.clear()
            self.a_location_field.clear()
            self.a_flaws_field.clear()
            self.a_flaws_list.clear()
            self.a_addpic_field.clear()
            self.a_pic_list.clear()
            self.a_picpreview.clear()
            self.a_pics_update = []
            self.a_flaw_update = []
    def a_savebutton(self):
        archnumtext = self.a_archnum_field.text()
        piecenumtext = self.a_piecenum_field.text()
        ownernametext = self.a_pieceowner_field.text()
        owneridtext = self.a_ownerid_field.text()
        locationtext = self.a_location_field.text()
        flawstextlist = self.a_flaw_update
        imgstextlist = self.a_pics_update
        errors = []
        x = None
        if not numcheck(archnumtext):
            errors.append(1)
        if not numcheck(piecenumtext):
            errors.append(2)
        if not ownernametext:
            errors.append(3)
        if not ownerid(owneridtext):
            errors.append(4)
        if errors:
            [self.errorraiser('a',x) for x in errors]
            self.a_failsave_label.show()
        if not errors:
            self.a_failsave_label.hide()
            createarch(archnumtext,piecenumtext,ownernametext,owneridtext,self.userid,locationtext,flawstextlist,imgstextlist)
            self.errorraiser('a',5)
            self.a_archnum_field.clear()       
            self.a_piecenum_field.clear()
            self.a_pieceowner_field.clear()
            self.a_ownerid_field.clear()
            self.a_location_field.clear()
            self.a_flaws_field.clear()
            self.a_flaws_list.clear()
            self.a_addpic_field.clear()
            self.a_pic_list.clear()
            self.a_picpreview.clear()
            self.a_pics_update = []
            self.a_flaw_update = []
            self.changedatalogtable()
    def d_searchtab(self):
        self.d_flaws_list.clear()
        self.d_pic_list.clear()
        text = self.d_choosearch_combobox.currentText()
        if text:
            archid = digitonly(text)
            archlis , flawlis , imglis = sqlarchsearch(archid)
            self.d_pics = imglis
            self.d_archnum_field.show()
            self.d_archnum_label.show()
            self.d_piecenum_field.show()
            self.d_piecenum_label.show()
            self.d_ownername_field.show()
            self.d_ownername_label.show()
            self.d_ownerid_field.show()
            self.d_ownerid_label.show()
            self.d_flaws_label.show()
            self.d_flaws_list.show()
            self.d_location_field.show()
            self.d_location_label.show()
            self.d_deletearc_b.show()
            self.groupBox_6.show()
            self.d_archnum_field.setText(str(archlis[0]))
            self.d_piecenum_field.setText(str(archlis[1]))
            self.d_ownername_field.setText(str(archlis[2]))
            self.d_ownerid_field.setText(str(archlis[3]))
            self.d_flaws_list.addItems(flawlis)
            self.d_pic_list.addItems(imglis)
            self.d_location_field.setText(str(archlis[4]))
            self.d_archhiddenid.setText(str(archlis[5]))
            self.d_picslider.setMinimum(0)
            self.d_picslider.setMaximum(0)
            if imglis:
                self.d_picslider.setMinimum(0)
                self.d_picslider.setMaximum(len(imglis)-1)
                self.d_picslider.setValue(0)
                image = imglis[0]
                pixmap = QPixmap(image)
                self.d_picpreview.setPixmap(pixmap)
        else:
            self.d_archnum_field.hide()
            self.d_archnum_label.hide()
            self.d_piecenum_field.hide()
            self.d_piecenum_label.hide()
            self.d_ownername_field.hide()
            self.d_ownername_label.hide()
            self.d_ownerid_field.hide()
            self.d_ownerid_label.hide()
            self.d_flaws_label.hide()
            self.d_flaws_list.hide()
            self.d_location_field.hide()
            self.d_location_label.hide()
            self.d_deletearc_b.hide()
            self.groupBox_6.hide()
    def d_picsliderfun(self):
        if self.d_pics:
            imageindex = self.d_picslider.value()
            image = self.d_pics[imageindex]
            pixmap = QPixmap(image)
            self.d_picpreview.setPixmap(pixmap)
    def d_deletebutton(self):
        value = self.d_deleteshowDialogself()
        if value:
            deletearch(self.userid,self.d_archhiddenid.text())
            self.d_searchfilter_combobox.setCurrentIndex(0)
            self.changedatalogtable()
    def ma_changepasswordbutton(self):
        self.ma_savenewpass_b.show()
        self.ma_newpass_label.show()
        self.ma_oldpass_label.show()
        self.ma_confirmnewpass_label.show()
        self.ma_confiemnewpass_field.show()
        self.ma_oldpass_field.show()
        self.ma_newpass_field.show()
        self.ma_confiemnewpass_field.clear()
        self.ma_oldpass_field.clear()
        self.ma_newpass_field.clear()
    def ma_savepasssqlbutton(self):
        oldpass = self.ma_oldpass_field.text()
        newpass = self.ma_newpass_field.text()
        confirmpass = self.ma_confiemnewpass_field.text()
        if ma_changepasssql(oldpass,newpass,confirmpass,self.userid):
                self.ma_savenewpass_b.hide()
                self.ma_newpass_label.hide()
                self.ma_oldpass_label.hide()
                self.ma_confirmnewpass_label.hide()
                self.ma_confiemnewpass_field.hide()
                self.ma_oldpass_field.hide()
                self.ma_newpass_field.hide()
        else:
            self.failedmessagebox()
    def m_addnewuserbutton(self):
        username =  self.m_newusername_field.text()
        userpass = self.m_newuserpass_field.text()
        userconfirmpass = self.m_newuserconfirmpass_field.text()
        succ , er = m_addnewuser(username,userpass,userconfirmpass)
        if succ:
            self.label.hide()
            self.m_newusername_field.clear()
            self.m_newuserpass_field.clear()
            self.m_newuserconfirmpass_field.clear()
            self.m_usertable()
        else:
            if er == 0:
                self.label.show()
            else:
                self.failedmessagebox()
    def m_usertable(self):
        self.m_users_table.clear()
        self.m_users_table.setColumnCount(4)
        self.m_users_table.setColumnWidth(0, 200)
        self.m_users_table.setColumnWidth(1, 500)
        self.m_users_table.setColumnWidth(2, 200)
        self.m_users_table.setColumnWidth(3, 700)
        self.m_users_table.setEditTriggers(QtWidgets.QTableWidget.NoEditTriggers)
        #self.m_users_table.setSectionResizeMode(False)
        header = self.m_users_table.horizontalHeader()
        header.setSectionResizeMode(False)
        header.setSectionResizeMode(0, QHeaderView.Fixed)
        header.setSectionResizeMode(1, QHeaderView.Fixed)
        header.setSectionResizeMode(2, QHeaderView.Fixed)
        header.setSectionResizeMode(3, QHeaderView.Fixed)
        columnLabels = ["اسم المستخدم","كلمة السر","حالة الدخول","تاريخ الانشاء"]
        self.m_users_table.setHorizontalHeaderLabels(columnLabels)
        row = m_userstable()
        self.m_users_table.setRowCount(len(row))
        for i,m in zip(row,range(len(row))):
            for b,c in zip(i,range(len(i))):
                self.m_users_table.setItem(m,c, QTableWidgetItem(str(b))) 
    def log_table(self):
        self.L_log_table.clear()
        self.L_log_table.setColumnCount(2)
        self.L_log_table.setColumnWidth(0, 200)
        self.L_log_table.setColumnWidth(1, 500)
        self.L_log_table.setEditTriggers(QtWidgets.QTableWidget.NoEditTriggers)
        header = self.L_log_table.horizontalHeader()
        header.setSectionResizeMode(False)
        header.setSectionResizeMode(0, QHeaderView.Fixed)
        header.setSectionResizeMode(1, QHeaderView.Fixed)
        #self.m_users_table.setSectionResizeMode(False)
        columnLabels = ["اسم المستخدم","التاريخ والوقت"]
        self.L_log_table.setHorizontalHeaderLabels(columnLabels)
        row = m_log()
        self.L_log_table.setRowCount(len(row))
        for i,m in zip(row,range(len(row))):
            for b,c in zip(i,range(len(i))):
                self.L_log_table.setItem(m,c, QTableWidgetItem(str(b))) 
    def changedatalogtable(self):
        self.l_changedatalog_table.clear()
        self.l_changedatalog_table.setColumnCount(4)
        self.l_changedatalog_table.setColumnWidth(0, 200)
        self.l_changedatalog_table.setColumnWidth(1, 500)
        self.l_changedatalog_table.setColumnWidth(2, 200)
        self.l_changedatalog_table.setColumnWidth(3, 700)
        self.l_changedatalog_table.setEditTriggers(QtWidgets.QTableWidget.NoEditTriggers)
        header = self.l_changedatalog_table.horizontalHeader()
        header.setSectionResizeMode(0, QHeaderView.Fixed)
        header.setSectionResizeMode(1, QHeaderView.Fixed)
        header.setSectionResizeMode(2, QHeaderView.Fixed)
        header.setSectionResizeMode(3, QHeaderView.Fixed)
        columnLabels = ["اسم المستخدم","نوع التغيير","رقم المخطط","التاريخ والوقت"]
        self.l_changedatalog_table.setHorizontalHeaderLabels(columnLabels)
        row = m_changedatalog()
        self.l_changedatalog_table.setRowCount(len(row))
        for i,m in zip(row,range(len(row))):
            for b,c in zip(i,range(len(i))):
                self.l_changedatalog_table.setItem(m,c, QTableWidgetItem(str(b))) 
    def blockuser(self):
        if self.m_blockusershowDialogself():
            try:
                item = self.m_users_table.item(self.m_users_table.currentRow(), 0)
                text = item.text()
                blockusersql(text)
            except:
                pass

        self.m_usertable()
    def allowuser(self):
        try:
            item = self.m_users_table.item(self.m_users_table.currentRow(), 0)
            text = item.text()
            allowusersql(text)
        except:
            pass
        self.m_usertable()
    def a_clearshowDialogself(self):
        font = QtGui.QFont()
        font.setPointSize(16)
        msgBox = QMessageBox()
        msgBox.setFont(font)
        msgBox.setIcon(QMessageBox.Warning)
        msgBox.setText("هل انت متأكد انك تريد ازالة الصفحة؟")
        msgBox.setWindowTitle("ازالة")
        msgBox.setStandardButtons(QMessageBox.Ok | QMessageBox.Cancel)
        buttonY = msgBox.button(QMessageBox.Ok)
        buttonY.setText('نعم')
        buttonN = msgBox.button(QMessageBox.Cancel)
        buttonN.setText("إلغاء")
        returnValue = msgBox.exec()
        if returnValue == QMessageBox.Ok:
            return True
    def d_deleteshowDialogself(self):
        font = QtGui.QFont()
        font.setPointSize(16)
        msgBox = QMessageBox()
        msgBox.setFont(font)
        msgBox.setIcon(QMessageBox.Warning)
        msgBox.setText("ل انت متاكد انك تريد حذف المخطط؟")
        msgBox.setWindowTitle("حذف")
        msgBox.setStandardButtons(QMessageBox.Ok | QMessageBox.Cancel)
        buttonY = msgBox.button(QMessageBox.Ok)
        buttonY.setText('نعم')
        buttonN = msgBox.button(QMessageBox.Cancel)
        buttonN.setText("إلغاء")
        returnValue = msgBox.exec()
        if returnValue == QMessageBox.Ok:
            return True
    def m_blockusershowDialogself(self):
        font = QtGui.QFont()
        font.setPointSize(16)
        msgBox = QMessageBox()
        msgBox.setFont(font)
        msgBox.setIcon(QMessageBox.Warning)
        msgBox.setText("هل انت متأكد انك تريد حجب المستخدم")
        msgBox.setWindowTitle("حجب مستخدم")
        msgBox.setStandardButtons(QMessageBox.Ok | QMessageBox.Cancel)
        buttonY = msgBox.button(QMessageBox.Ok)
        buttonY.setText('نعم')
        buttonN = msgBox.button(QMessageBox.Cancel)
        buttonN.setText("إلغاء")
        returnValue = msgBox.exec()
        if returnValue == QMessageBox.Ok:
            return True
    def manageuserschangepass(self):
        item = self.m_users_table.item(self.m_users_table.currentRow(), 0)
        if item:
            self.m_newpass2_field.clear()
            self.m_confirmpass2_field.clear()
            self.m_usermangepassvalue = item.text()
            self.m_changepass2_label.show()
            self.m_confirmpass2_label.show()
            self.m_newpass2_field.show()
            self.m_confirmpass2_field.show()
            self.m_savepasschange2_b.show()
    def savemanageuserpass(self):
        username = self.m_usermangepassvalue
        newpass = self.m_newpass2_field.text()
        confirmpass = self.m_confirmpass2_field.text()
        if m_mangeuserchange(username,newpass,confirmpass):
            self.m_newpass2_field.clear()
            self.m_confirmpass2_field.clear()
            self.m_changepass2_label.hide()
            self.m_confirmpass2_label.hide()
            self.m_newpass2_field.hide()
            self.m_confirmpass2_field.hide()
            self.m_savepasschange2_b.hide()
            self.m_usertable()
        else:
            self.failedmessagebox()
    def failedmessagebox(self):
        font = QtGui.QFont()
        font.setPointSize(16)
        msgBox = QMessageBox()
        msgBox.setFont(font)
        msgBox.setIcon(QMessageBox.Critical)
        msgBox.setText("لم تتم العملية . الرجاء التأكد من البيانات ثم المحاولة مرة اخرى")
        msgBox.setWindowTitle("خطأ")
        msgBox.setStandardButtons(QMessageBox.Ok)
        returnValue = msgBox.exec()
        if returnValue == QMessageBox.Ok:
            return True
    def logout(self):
        import sys
        sys.exit()
if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow,1,1)
    MainWindow.show()
    sys.exit(app.exec_())